<div x-cloak x-data="liveStreamStatus()" x-init="fetchStatus()" >
<a x-show="live" target="_blank" rel="noopener noreferrer" x-bind:href="video" class="hover:pointer w-full block text-sm p-2 bg-red-700 text-white font-medium text-center relative z-10" style="--bg-opacity: 0.9">
  <span class="inline-flex items-center w-36 space-x-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="inline animate-pulse" width="12" height="12" viewBox="0 0 24 24" fill="#FFFFFF"><circle cx="12" cy="12" r="10"></circle></svg> 
    <span  class="border-b border-red-400">Wir sind live</span>
</a>
</div>
<style>
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1.08);
    }
    50% {
      opacity: .5;
      transform: scale(1);
    }
  }
</style>
<section x-data="{loaded: false}" x-init="()=>loaded = true" x-ref="hero" x-on:scroll.window.passive="parallax($refs)"
    class="-mt-14 w-full bg-gray-800 bg-no-repeat bg-cover text-center flex flex-col pt-12 relative z-0"
    style="height: 90vh; background-image: linear-gradient(rgba(155, 105, 255, 0.1), rgba(0, 100, 255, 0.1)), url({{header_image}}); background-position: {{header_image:focus | background_position}}">
    <div class="my-auto" x-ref="heroText" x-show="loaded" x-cloak
    x-transition:enter="transition ease-in-out duration-500"
    x-transition:enter-start="opacity-0 transform translate-y-10"
    x-transition:enter-end="opacity-1 transform translate-y-0">
    <div class="font-serif font-semibold text-6xl sm:text-7xl lg:text-8xl text-white text-shadow-sm leading-none">{{welcome_home}}</div>
    <div>
        <!-- <hr class="border-b pt-4 border-gray-100 w-24 my-4"> -->
        <h1 class="mt-4 md:mt-2 font-sans text-base text-gray-100 text-shadow-lg w-5/6 mx-auto font-medium leading-tight">{{subtitle}}</h1>  
    </div>  
</div>
<a id="üëãüèº" href="#üëãüèº" class="tap-highlight-none focus:outline-none relative z-10 font-mono text-gray-300 text-shadow mx-auto py-3" style="transform: translateY(-5rem)">
  <svg class="h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="square" stroke-linejoin="square" stroke-width="2.5" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
  </svg>
</a>
</section>

<section class="bg-white relative z-10 -mb-16 h-36 flex flex-col justify-center">
      <div class="primary_card w-11/12 mx-auto bg-neutral-400 bg-opacity-25 rounded-px text-indigo-900 p-4 md:p-6 md:py-5 max-w-3xl transform -translate-y-16">
        {{primary_card}}
        <style> 
          .primary_card a:after {
            content: url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" class="inline"  width="20" height="12" viewBox="14 2 30 24" fill="none" stroke="currentColor" stroke-width="3.5" stroke-linecap="square" stroke-linejoin="arcs"><path d="M 4.903 11.986 L 42.971 12.252 M 36.971 5.252 L 43.971 12.252 L 36.971 19.252"></path></svg>');
            display: inline-block;
            margin-left: 8px; 
            transform: translateY(2px);
          }
        </style>
      </div>
</section>
<main>

<div class="px-4 pt-12 -mb-6">
 {{steps}} 
 <div class="flex flex-col md:flex-row mt-12 mb-24 md:mb-32 md:max-w-4xl lg:max-w-4xl mx-auto">
        <picture class="bg-gray-200 block relative md:static z-10 md:z-0 w-full md:w-3/5 md:max-w-md lg:max-w-lg">
            <source type="image/webp" srcset="{{ glide :src='bild' h='800' w='1024' q='80' fm='webp' }} 1024w, {{ glide :src='bild' h='400' w='512' q='80' fm='webp' }} 512w" sizes="100%"/>
            <source type="image/jpg" srcset="{{ glide :src='bild' h='800' w='1024' q='80' }} 1024w, {{ glide :src='bild' h='400' w='512' q='80' }} 512w" sizes="100%"/>
            <img height="100" width="100" loading="lazy" src="{{ glide :src='bild' h='500' w='595' q='80'}}" class="object-cover w-full h-square max-h-xl md:h-100" alt="{{bild | get:alt}}"/>
        </picture>
        <div class="md:py-8">
          <h4 class="md:hidden mt-4 -mb-1 text-lg font-medium text-gray-700 pl-px leading-snug tracking-wide opacity-75">{{subtitel | upper }}</h4>
          <h2
            class="uppercase tracking-loose font-extrabold text-4xl sm:text-4xxl leading-none md:bg-white md:pt-2 md:pb-3 font-serif md:mt-3 md:-ml-12 relative md:z-20 md:pl-3 break-words" 
          >
            {{titel}}
          </h2>
          <h4 class="hidden md:block text-lg mt-8 mb-1 ml-6 font-normal text-gray-700 pl-px md:pl-0 leading-snug tracking-wide opacity-75">{{subtitel | upper }}</h4>
          <div
            class="md:max-w-md block mt-6 md:mt-1 md:ml-6 text-lg leading-snug text-gray-900 pl-px"
          >
            {{text}}
            {{if linktext}}
            <a href="{{link :src='cta'}}" class="tv_link inline-block mt-3 font-semibold">{{linktext}}<svg xmlns="http://www.w3.org/2000/svg" class="inline ml-1" width="24" height="14" viewBox="10 2 50 24" fill="none" stroke="currentColor" stroke-width="3.5" stroke-linecap="square" stroke-linejoin="arcs"><path d="M 4.903 11.986 L 42.971 12.252 M 36.971 5.252 L 43.971 12.252 L 36.971 19.252"></path></svg></a>
            {{endif}}
          </div>
        </div>
      </div>
 {{/steps}}  
</div> 
<style>
  .bg-image {
    background: 
      linear-gradient(#fdfcffec, #fdfcffff), 
      url('{{ glide src="/assets/main/images/jesus_saves.jpg" width="800" format="webp" quality="70" }}'),
      #5A67D8;
  }
</style>
<div class="w-full pt-12 md:pt-20 pb-16 bg-image" style="background-repeat: no-repeat; background-size: cover; background-position: center;">
  <div class="bard px-4 max-w-3xl mx-auto">
      <h2 class="font-serif font-bold text-4xl mt-1">Wer wir sind</h2>
      <hr class="w-32 h-1 bg-indigo-600 rounded ml-0 mt-0 mb-6">
      {{content | markdown}}
  </div>
</div>
</main>
<script>
  function parallax(refs) {
      const hero = refs.hero;
      const headerHeight = hero.offsetHeight;
      let scrollTop = (window.scrollY < (headerHeight / 2)) ? window.scrollY : headerHeight / 2;
      hero.style.transform = `translate3D(0,${scrollTop / 8}px,0)`;
      refs.heroText.style.transform = `translate3D(0,${scrollTop / 6}px,0)`;
  }
  function liveStreamStatus() {
    const date = new Date();
    if (date.getDay() == 7) {
      fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=UCUQI6VwkU8NYR-VfpLKmXDw&eventType=upcoming&type=video&key=AIzaSyB2Kg2bqYI_wUtdmZ6QJ4xtu89yM8RlviM`)
           .then(res => res.json())
           .then(res => {
              console.log(`We are live! `+(res.items.length > 0));
              console.log(`videoId: `+res.items[0].id.videoId);          
      })
    }
  } 
</script>
<!--FAQ SCHEMA-->
<script type="application/ld+json">{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"Wieso feiern wir Gottesdienst?","acceptedAnswer":{"@type":"Answer","text":"Gottesdienst feiern bedeutet f√ºr uns Gott zu begegnen, seine ver√§ndernde Kraft zu erfahren und ihn daf√ºr zu ehren sowie zu feiern, dass er uns auf verschiedene Weise seine Liebe zu uns gezeigt hat."}},{"@type":"Question","name":"Was erwartet mich in einem Gottesdienst?","acceptedAnswer":{"@type":"Answer","text":"Der Gottesdienst am Sonntag dauert ca. 70 Minuten.\nDu darfst dich auf eine besucherorientierte und freundliche Atmosph√§re freuen. Unser Gottesdienst beginnt mit zeitgem√§√üer, auf Gott ausgerichteter Musik und geht √ºber in eine Predigt, die praktisch und relevant f√ºr dein Leben ist."}},{"@type":"Question","name":"Wie kann ich andere kennenlernen und Anschluss finden?","acceptedAnswer":{"@type":"Answer","text":"Da gibt es verschiedene M√∂glichkeiten. √úber das Kontaktekn√ºpfen an einem Sonntagsgottesdienst hinaus empfehlen wir dir als ersten Schritt, an \"Next Steps\" teilzunehmen, um die Church besser kennenzulernen. Au√üerdem sind wir in Kleingruppen - sogenannten Homezones - organisiert, die sich unter der Woche treffen. Hier kannst du Freundschaften kn√ºpfen und aufbauen und mehr √ºber das Leben und die Gemeinde erfahren. In all dem bekommst du die M√∂glichkeit, in deinem Glauben zu wachsen."}}]}</script>
